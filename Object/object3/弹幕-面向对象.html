<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>测试</title>
<meta name="keywords" content="">
<meta name="description" content="">
<style>
*{margin: 0;padding: 0;}
body{
	background: #000;
	position: relative;
	overflow: hidden;
}
.cDiv{
	font-size: 25px;
	line-height: 30px;
	height: 30px;
	background: #FFF;
	opacity: 0.8;
	position: absolute;
	overflow: hidden;
}
</style>
</head>
<body>
	<script>
	var W = document.documentElement.clientWidth;
	function Barrage () {
		this.ele = document.createElement("div");
		this.ele.className = "cDiv";
		document.body.appendChild(this.ele);
		this.ele.style.top = Math.floor(Math.random()*300+50)+"px";
		this.ele.style.left = W + "px";
		this.ele.innerHTML = "弹幕测试数据"+Math.round(Math.random()*1000);
		this.t = null;
	}
	Barrage.prototype.Run = function(){
		var _this = this;
		var l = W;
		this.t = setInterval(function(){
			if(l<=(0-_this.ele.clientWidth)){
				_this.Stop();
				document.body.removeChild(_this.ele);
			}
			l--;
			_this.ele.style.left = l + "px";
		},1)
	}
	Barrage.prototype.Stop = function(){
		clearInterval(this.t);
	}
	setInterval(function(){
		var a = new Barrage();
		a.Run();
	},1000)
	</script>
</body>
</html>